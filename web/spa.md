> **SPA** = single Page Application (싱글 페이지 어플리케이션)

- **페이지가 1개인 어플리케이션**

**전통적인 웹 구조**

**MPA** = Multi Page Application

- 여러 페이지로 구성
- 유저가 요청할 때마다 페이지가 새로고침
- `페이지를 로딩할 때마다 서버로부터 리소스를 전달받아 해석 후 렌더링`
- HTML 파일, 템플릿 엔진 등을 사용해서 어플리케이션의 뷰가 어떻게 보여질지도 서버에서 담당
- 속도가 느리다.
- 서버에서 복잡한 웹 어플리케이션을 렌더링하고 클라이언트에 전달해주는 방식은 **그 만큼 렌더링을 위한 서버 자원이 사용**되는 것이고, **불필요한 트래픽** 사용해야 했다.

## SPA의 등장

- 자바스크립트는 DOM을 건드릴 수 있는 스크립트 언어이고, 웹 브라우저에서 쓰이는 유일한 프로그래밍 언어이다.
- 초기 렌더링 후 데이터만 받아오기 때문에, 상대적으로 서버 요청이 적다.
- 단 하나의 `index.html` 파일만 가지고, 안의 내용물들을 전부 `.js` 파일의 `DOM 조작`을 통해 채우게 된다.
- `REST API` 사용한다.
- `SPA`는 클라이언트 사이드 렌더링이지만 그렇다고 `SPA === CSR` 은 아니다.

### 단점

- 서버가 할 일을 대신하는 자바스크립트의 역할이 많아진다. 즉, 규모가 커질수록 파일이 너무 커진다.
- 자바스크립트를 실행하지 않는 일반 크롤러에서는 페이지의 정보를 제대로 수집해가지 못한다는 것이다.
- 자바스크립트 실행 전까지는 페이지가 비어있기 때문에 흰 화면이 나올 수 있다.

## 렌더링 방식 SSR과 CSR

### SSR

---

- **서버에서 사용자에게 보여줄 페이지를 모두 구성하여 보여주는 방식**
- 모든 데이터가 매핑된 페이지를 클라이언트(브라우저)에게 빠르게 보여줄 수 있다.
- SEO (Search Engine Optimization) 또한 쉽게 구성할 수 있다.

**장점**

- Node.js 기반의 SSR은 JavaScript를 최대한 활용할 수 있다.
- SSR을 사용하면 프런트엔드와 백엔드 영역을 완전히 분리함으로써 생산성을 높일 수 있다.

**단점**

- 매번 페이지 요청마다 새로고침되므로 사용자 UX에 좋지 않다.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/da616837-7bb5-403b-9ffa-e6af9880f9b7/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/da616837-7bb5-403b-9ffa-e6af9880f9b7/Untitled.png)

[NAVER D2](https://d2.naver.com/helloworld/7804182)

SSR 도입편

### CSR

---

- **최초 1번만 서버에서 전체 페이지 로딩**
- 이후 사용자 요청이 올 때마다, 리소스를 서버에서 제공한 후 클라이언트가 해석하고 렌더링
- 트래픽 감소시키고 더 나은 사용자 경험 제공
- 서버는 요청한 API에 대해 JSON data로 응답하고, html을 그리는 역할은 클라이언트 측에서 javascript가 수행

**단점**

- 초기 요청 때 `SSR` 보다 많은 리소스를 요청하기 때문에, 렌더링 속도가 `SSR` 보다 느리다.
- javascript를 실행하지 않는 일반 크롤러에서는 페이지 정보를 제대로 받아가지 못한다.
  때문에 구글,네이버,다음 등 검색엔진에서 페이지가 검색결과에서 잘 나타니자 않을수도 있다.
- javascript가 실행될 때까지 페이지가 비어있어서, javascript 파일이 아직 캐싱되지 않은 사용자는 **아주 짧은 시간동안 흰 페이지가 나타난다**.
- 유저가 실제로 방문하지 않을 수도 있는 페이지에 관련된 렌더링 관런 스크립트도 불러오기때문에, 필요한 페이지보다 더 무거운 자바스크립트 파일을 읽어야할 수 있다.

![https://s3-us-west-2.amazonaws.com/secure.notion-static.com/187ca194-df2a-4d4f-b397-76cd48816a8b/Untitled.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/187ca194-df2a-4d4f-b397-76cd48816a8b/Untitled.png)

## SEO (Search Engine Optimization) 문제

- 자바스크립트를 해석할 수 있는 엔진이 없어서 빈 페이지로 인식힌다.
- 이를 해결하기 위해 SSR with Hydration 기법이 나왔다.
  > React 진영의 `Next.js`와 Vue 진영의 `Nuxt.js`가 위 기법을 구현한 프레임 워크다.
    <aside>
    💡  **SSR with Hydration 기법** 
    처음엔 서버사이드 렌더링을 하고, 그 후 다른 페이지들에선 클라이언트 사이드 렌더링을 이용하는 방식
    
    </aside>
