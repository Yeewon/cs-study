> **í´ë¡œì €ëŠ” í•¨ìˆ˜ì™€ ê·¸ í•¨ìˆ˜ê°€ ì„ ì–¸ëœ ë ‰ì‹œì»¬ í™˜ê²½ê³¼ì˜ ì¡°í•©ì´ë‹¤.**

## ë ‰ì‹œì»¬ ìŠ¤ì½”í”„

**ë ‰ì‹œì»¬ ìŠ¤ì½”í”„(ì •ì  ìŠ¤ì½”í”„)** : ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ í•¨ìˆ˜ë¥¼ ì–´ë””ì„œ í˜¸ì¶œí–ˆëŠ”ì§€ê°€ ì•„ë‹ˆë¼ **ì–´ë””ì„œ ì •ì˜**í–ˆëŠ”ì§€ì— ë”°ë¼ ìƒìœ„ ìŠ¤ì½”í”„ë¥¼ ê²°ì •í•œë‹¤.

## í•¨ìˆ˜ ê°ì²´ì˜ ë‚´ë¶€ ìŠ¬ë¡¯ `[[Environment]]`

- í˜¸ì¶œë˜ëŠ” í™˜ê²½ê³¼ëŠ” ìƒê´€ì—†ì´ ìì‹ ì´ ì •ì˜ëœ í™˜ê²½, ì¦‰ ìƒìœ„ ìŠ¤ì½”í”„(í•¨ìˆ˜ ì •ì˜ê°€ ìœ„ì¹˜í•˜ëŠ” ìŠ¤ì½”í”„) ë¥¼ ê¸°ì–µí•´ì•¼ í•œë‹¤.
- ìì‹ ì˜ ë‚´ë¶€ ìŠ¬ë¡¯ [[Environment]]ì— ìì‹ ì´ ì •ì˜ëœ í™˜ê²½(ìƒìœ„ ìŠ¤ì½”í”„ì˜ ì°¸ì¡°)ë¥¼ ì €ì¥í•œë‹¤.
- ìƒìœ„ ìŠ¤ì½”í”„ ì°¸ì¡°ëŠ” **í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì˜ ë ‰ì‹œì»¬ í™˜ê²½**ì„ ê°€ë¦¬í‚¨ë‹¤.

## í´ë¡œì €ì™€ ë ‰ì‹œì»¬ í™˜ê²½

```jsx
const x = 1;

function outer() {
	const x = 10;
	const inner = functon() { console.log(x) }; // í´ë¡œì €
	return inner;
}

// ì¤‘ì²© í•¨ìˆ˜ innerë¥¼ ë°˜í™˜
// outer í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìŠ¤íƒì—ì„œ íŒë˜ì–´ ì œê±°
const innerFunc = outer();
innerFunc(); // 10
```

ì™¸ë¶€ í•¨ìˆ˜ë³´ë‹¤ ì¤‘ì²© í•¨ìˆ˜ê°€ ë” ì˜¤ë˜ ìœ ì§€ë˜ëŠ” ê²½ìš° ì¤‘ì²© í•¨ìˆ˜ëŠ” ì´ë¯¸ ìƒëª… ì£¼ê¸°ê°€ ì¢…ë£Œí•œ ì™¸ë¶€ í•¨ìˆ˜ì˜ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ì¤‘ì²© í•¨ìˆ˜ë¥¼ **í´ë¡œì €**ë¼ê³  ë¶€ë¥¸ë‹¤.

- ì¤‘ì²© í•¨ìˆ˜ innerëŠ” ìì‹ ì˜ `[[Environment]]` ë‚´ë¶€ ìŠ¬ë¡¯ì— í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì˜ ë ‰ì‹œì»¬ í™˜ê²½ (outer í•¨ìˆ˜ì˜ ë ‰ì‹œì»¬ í™˜ê²½)ì„ ìƒìœ„ ìŠ¤ì½”í”„ë¡œì„œ ì €ì¥í•œë‹¤.
- outer í•¨ìˆ˜ì˜ ì‹¤í–‰ì´ ì¢…ë£Œë˜ë©´ outer í•¨ìˆ˜ì˜ ìƒëª… ì£¼ê¸°ê°€ ì¢…ë£Œëœë‹¤.
- outer í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìŠ¤íƒì—ì„œ ì œê±°ë˜ì§€ë§Œ ë ‰ì‹œì»¬ í™˜ê²½ì€ ì†Œë©¸ë˜ì§€ ì•ŠëŠ”ë‹¤.
  **\*why?** inner í•¨ìˆ˜ì˜ [[Environment]] ë‚´ë¶€ ìŠ¬ë¡¯ì— ì˜í•´ ì°¸ì¡°ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ê°€ë°”ì§€ ì»¬ë ‰ì…˜ì˜ ëŒ€ìƒì´ ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.\*

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ëª¨ë“  í•¨ìˆ˜ëŠ” ìƒìœ„ ìŠ¤ì½”í”„ë¥¼ ê¸°ì–µí•˜ë¯€ë¡œ ì´ë¡ ì ìœ¼ë¡œëŠ” ëª¨ë“  í•¨ìˆ˜ëŠ” í´ë¡œì €ë‹¤.

í•˜ì§€ë§Œ ì¼ë°˜ì ìœ¼ë¡œ ëª¨ë“  í•¨ìˆ˜ë¥¼ í´ë¡œì €ë¼ê³  í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.

### 1. ìƒìœ„ ìŠ¤ì½”í”„ì˜ ì–´ë–¤ ì‹ë³„ìë„ ì°¸ì¡°í•˜ì§€ ì•ŠëŠ” ê²½ìš° í´ë¡œì €ë¼ê³  í•  ìˆ˜ ì—†ë‹¤.

```jsx
function foo() {
  const x = 1;
  const y = 2;

  // ìƒìœ„ ìŠ¤ì½”í”„ì˜ ì‹ë³„ìë¥¼ ì°¸ì¡°í•˜ì§€ ì•ŠëŠ”ë‹¤.
  function bar() {
    const z = 3;
    console.log(z);
  }

  return bar;
}

const bar = foo();
bar();
```

### 2. ì™¸ë¶€ í•¨ìˆ˜ë³´ë‹¤ ì¼ì° ì†Œë©¸ë˜ëŠ” í•¨ìˆ˜ëŠ” í´ë¡œì €ë¼ê³  í•  ìˆ˜ ì—†ë‹¤.

```jsx
function foo() {
  const x = 1;

  // í´ë¡œì €ì˜€ì§€ë§Œ ì™¸ë¶€ë¡œ ë°˜í™˜ë˜ì§€ ì•Šì•„ ìƒëª… ì£¼ê¸°ê°€ ì§§ë‹¤.
  function bar() {
    console.log(x);
  }

  bar();
}

foo();
```

### 3. í´ë¡œì €

```jsx
function foo() {
  const x = 1; // ììœ  ë³€ìˆ˜
  const y = 2;

  // ì™¸ë¶€ í•¨ìˆ˜ë³´ë‹¤ ë” ì˜¤ë˜ ìœ ì§€ë˜ë©° ìƒìœ„ ìŠ¤ì½”í”„ ì‹ë³„ìë¥¼ ì°¸ì¡°í•œë‹¤.
  function bar() {
    console.log(x);
  }

  return bar;
}

const bar = foo();
bar();
```

- ìƒìœ„ ìŠ¤ì½”í”„ì˜ ì‹ë³„ìë¥¼ ì°¸ì¡°í•˜ê³  ìˆë‹¤.
- ì¤‘ì²© í•¨ìˆ˜ê°€ ì™¸ë¶€ í•¨ìˆ˜ë³´ë‹¤ ë” ì˜¤ë˜ ìœ ì§€ëœë‹¤.
- **ììœ  ë³€ìˆ˜** : í´ë¡œì €ì— ì˜í•´ ì°¸ì¡°ë˜ëŠ” ìƒìœ„ ìŠ¤ì½”í”„ì˜ ë³€ìˆ˜

## í´ë¡œì €ì˜ í™œìš©

> **í´ë¡œì €**ëŠ” ìƒíƒœë¥¼ ì•ˆì „í•˜ê²Œ ì€ë‹‰í•˜ê³  íŠ¹ì • í•¨ìˆ˜ì—ê²Œë§Œ ìƒíƒœ ë³€ê²½ì„ í—ˆìš©í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤.

```jsx
const counter = (function () {
  let counter = 0;

  return function (predicate) {
    counter = predicate(counter);
    return counter;
  };
})();

function increase(n) {
  return ++n;
}

function decrease(n) {
  return --n;
}

console.log(counter(increase)); // 1
console.log(counter(increase)); // 2

console.log(counter(decrease)); // 1
console.log(counter(decrease)); // 0
```

## ìº¡ìŠí™”ì™€ ì •ë³´ ì€ë‹‰

`ìº¡ìŠí™”`ëŠ” ê°ì²´ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” **í”„ë¡œí¼í‹°**ì™€ í”„ë¡œí¼í‹°ë¥¼ ì°¸ì¡°í•˜ê³  ì¡°ì‘í•  ìˆ˜ ìˆëŠ” ë™ì‘ì¸ **ë©”ì„œë“œ**ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ëŠ” ê²ƒì„ ë§í•œë‹¤.

íŠ¹ì • í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ê°ì¶œ ëª©ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸°ë„ í•˜ëŠ”ë° ì´ë¥¼ `ì •ë³´ ì€ë‹‰` ì´ë¼ í•œë‹¤.

<aside>
ğŸ’¡ ì •ë³´ ì€ë‹‰ì€ ì™¸ë¶€ì— ê³µê°œí•  í•„ìš”ê°€ ì—†ëŠ” êµ¬í˜„ì˜ ì¼ë¶€ë¥¼ ì™¸ë¶€ì— ê³µê°œë˜ì§€ ì•Šë„ë¡ ê°ì¶”ì–´ ì ì ˆì¹˜ ëª»í•œ ì ‘ê·¼ìœ¼ë¡œë¶€í„° ê°ì²´ì˜ ìƒíƒœê°€ ë³€ê²½ë˜ëŠ” ê²ƒì„ ë°©ì§€í•´ ì •ë³´ë¥¼ ë³´í˜¸í•˜ê³ , ê°ì²´ ê°„ì˜ ì˜ì¡´ì„±, ì¦‰ ê²°í•©ë„ë¥¼ ë‚®ì¶”ëŠ” íš¨ê³¼ê°€ ìˆë‹¤.

</aside>

```jsx
const Person = (function () {
  let _age = 0; // private

  // ìƒì„±ì í•¨ìˆ˜
  function Person(name, age) {
    this.name = name; // public
    _age = age;
  }

  // í”„ë¡œí† íƒ€ì… ë©”ì„œë“œ
  Person.prototype.sayHi = function () {
    console.log(this.name, _age);
  };

  return Person;
})();

const me = new Person("Lee", 20);
me.sayHi(); // Lee 20
console.log(me.name); // Lee
console.log(me._age); // undefined

const you = new Person("Kim", 30);
you.sayHi(); // Kim 30
console.log(you.name); // Kim
console.log(you._age); // undefined
```
